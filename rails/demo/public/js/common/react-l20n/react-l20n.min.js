!function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";var n=r(1);window.ReactL20n={l20n:n,Entity:n.Entity}},function(t,e){(function(e){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};!function(t,e){function r(t,e){r.modules[t]=e}function n(t){for(var e=t.split("/"),r=[],n=0;n<e.length;n++)"."==e[n]||(".."==e[n]?r.pop():r.push(e[n]));return r.join("/")}function o(t,e){return t?t.trim().replace(/\/*$/,"/")+e.trim():e.trim()}function i(t){return t?t.split("/").slice(0,-1).join("/"):null}function a(t,s){if(s=n(o(i(t),s)),s in r.exports)return r.exports[s];if(!(s in r.modules))throw new Error("Module not defined: "+s);var u=r.modules[s];if("function"==typeof u){var c={},f=u(a.bind(null,s),c,{id:s,uri:""});u=f!==e?f:c}return r.exports[s]=u}r.modules={},r.exports={};var s=a.bind(null,null);r("l20n",function(t,e){var r=t("./l20n/context").Context,n=t("./l20n/parser").Parser,o=t("./l20n/compiler").Compiler;e.Context=r,e.Parser=n,e.Compiler=o,e.getContext=function(t){return new r(t)}}),r("l20n/context",function(t,r){function n(t,r){function o(t,o,c){function f(t,n){return t?o(t):(n!==e&&(s.source=n),s.ast=r.parse(s.source),void l())}function l(){function e(t){return t?o(t):(f--,void(0===f&&h()))}var a=s.ast.body.filter(function(t,e){return"ImportStatement"===t.type?(u.push(e),!0):!1});a.forEach(function(t){var e=i(t.uri.content),o=new n(e,r);s.resources.push(o)});var f=s.resources.length;return 0===f?o():void s.resources.forEach(function(r){r.build(t+1,e,c)})}function h(){for(var t=s.resources.length-1;t>=0;t--){var e=u[t]||0;Array.prototype.splice.apply(s.ast.body,[e,1].concat(s.resources[t].ast.body))}o()}return t>=7?o(new a("Too many nested imports.")):s.source?setTimeout(function(){f()}):void p.load(s.id,f,c)}function i(t){if(null===s.id||c.test(t))return t;var e=s.id.split("/").slice(0,-1).concat(t.split("/")).filter(function(t){return"."!==t});return e.join("/")}var s=this;this.id=t,this.resources=[],this.source=null,this.ast={type:"LOL",body:[]},this.build=o;var u=[],c=/^\/|:/}function o(t,r,n,o){function i(t){function e(t){t&&(f++,o.emit(t instanceof a?"error":"warning",t)),u--,0===u&&(f===c.resources.length&&o.emit("error",new a("Locale has no valid resources")),r())}function r(){c.ast.body=c.resources.reduce(function(t,e){return t.concat(e.ast.body)},c.ast.body),i()}function i(){c.entries=n.compile(c.ast),c.isReady=!0,t&&t()}if(!t)var s=!0;var u=c.resources.length;if(0===u)throw new a("Locale has no resources");var f=0;c.resources.forEach(function(t){t.build(0,e,s)})}function s(t){return this.entries.hasOwnProperty(t)?this.entries[t]:e}function u(t){return this.resources.some(function(e){return e.id===t})}this.id=t,this.resources=[],this.entries=null,this.ast={type:"LOL",body:[]},this.isReady=!1,this.build=i,this.getEntry=s,this.hasResource=u;var c=this}function i(r){function i(t,r){Object.keys(r).forEach(function(n){r[n]===e?delete t[n]:"object"!=typeof r[n]?t[n]=r[n]:("object"!=typeof t[n]&&(t[n]={}),i(t[n],r[n]))})}function p(t){if(!t||"object"!=typeof t)throw new a("Context data must be a non-null object");i(B,t)}function y(t,e){if(!q)throw new a("Context not ready");return m.call(F,0,t,e).value}function d(t,e){if(!q)throw new a("Context not ready");return m.call(F,0,t,e)}function v(t,e){if(!e)throw new a("No callback passed");return w.call(F,t,e)}function g(t){q&&setTimeout(t),P("ready",t)}function w(t,e,r){var n={extend:function(r){for(var n=0;n<r.length;n++)-1===t.indexOf(r[n])&&t.push(r[n]);if(q){var o=b.call(this,r);return $.bindGet({id:e,callback:w.bind(this,t,e),globals:Object.keys(o.globalsUsed)},!0),o}}.bind(this),stop:function(){$.unbindGet(e)}.bind(this)};if(!q)return $.bindGet({id:e,callback:w.bind(this,t,e),globals:[]}),n;var o=b.call(this,t),i={entities:o.entities,reason:r||{locales:H.slice()},stop:function(){$.unbindGet(e)}};return $.bindGet({id:e,callback:w.bind(this,t,e),globals:Object.keys(o.globalsUsed)}),e(i),n}function b(t){for(var e,r={entities:{},globalsUsed:{}},n=0;e=t[n];n++){r.entities[e]=d.call(this,e);for(var o in r.entities[e].globals)r.entities[e].globals.hasOwnProperty(o)&&(r.globalsUsed[o]=!0)}return r}function m(t,r,n,o){var i=!0;t:for(;i;){var a=t,c=r,f=n,h=o;p=y=d=v=w=e,i=!1;var p=H[a];if(!p)return z(new s("Unable to get translation",c,H)),{value:h?h.source:c,attributes:{},globals:{},locale:h?h.loc:null};var y=L(p);y.isReady||y.build(null);var d=y.getEntry(c);if(d!==e){var v;try{v=d.get(x.call(this,f))}catch(g){if(g instanceof l.RuntimeError){if(z(new u(g.message,c,H,y)),g instanceof l.ValueError){var w=h||{source:g.source,loc:y.id};t=a+1,r=c,n=f,o=w,i=!0;continue t}t=a+1,r=c,n=f,o=h,i=!0;continue t}throw z(g)}return v.locale=y.id,v}S(new u("Not found",c,H,y)),t=a+1,r=c,n=f,o=h,i=!0}}function x(t){if(!t)return B;var e={};return i(e,B),i(e,t),e}function E(t){if(V)throw new a("Context is frozen");W.push(["text",t])}function A(t,e){var r=new n(null,J);r.source=t,e.resources.push(r)}function _(t){if(V)throw new a("Context is frozen");W.push(["function"==typeof t?"template":"uri",t])}function k(t,e){if(!e.hasResource(t)){var r=new n(t,J);e.resources.push(r)}}function C(t,r){if(V)throw new a("Context is frozen");t!==e&&(U=t,M=[],r||(r=[]),r.push(t),r.forEach(function(t){if("string"!=typeof t)throw new a("Language codes must be strings");-1===M.indexOf(t)&&M.push(t)}))}function O(t){if(V)throw new a("Context is frozen");G=t}function L(t){if(N[t])return N[t];var e=new o(t,J,Y,Z);N[t]=e;for(var r=0;r<W.length;r++){var n=W[r];"text"===n[0]?A(n[1],e):"uri"===n[0]?k(n[1],e):k(n[1](e.id),e)}return e}function T(){if(V&&!q)throw new a("Context not ready");if(0===W.length)return void S(new a("Context has no resources; not freezing"));if(V=!0,D=Array.prototype.slice.call(arguments),D.length&&D.forEach(function(t){if("string"!=typeof t)throw new a("Language codes must be strings")}),!G){var e=t("./intl").Intl;G=e.prioritizeLocales}var r=G(M,D,U,R);r&&R(r)}function R(t){H=t;var e=L(H[0]);e.isReady?j():e.build(j)}function j(){q=!0,$.all(H.slice()),Z.emit("ready")}function P(t,e){Z.addEventListener(t,e)}function I(t,e){Z.removeEventListener(t,e)}function S(t){return Z.emit("warning",t),t}function z(t){return Z.emit("error",t),t}this.id=r,this.registerLocales=C,this.registerLocaleNegotiator=O,this.requestLocales=T,this.addResource=E,this.linkResource=_,this.updateData=p,this.getSync=y,this.getEntitySync=d,this.localize=v,this.ready=g,this.addEventListener=P,this.removeEventListener=I,Object.defineProperty(this,"supportedLocales",{get:function(){return H.slice()},enumerable:!0});var G,B={},U="i-default",M=[U],D=[],H=[],N={},W=[],q=!1,V=!1,Z=new c,J=new f,Y=new l,$=new h,F=this;J.addEventListener("error",z),Y.addEventListener("error",S),Y.setGlobals($.globals)}function a(t){this.name="ContextError",this.message=t}function s(t,e,r){a.call(this,t),this.name="RuntimeError",this.entity=e,this.supportedLocales=r.slice(),this.message=e+": "+t+"; tried "+r.join(", ")}function u(t,e,r,n){s.call(this,t,e,r),this.name="TranslationError",this.locale=n.id,this.message="["+this.locale+"] "+e+": "+t}var c=t("./events").EventEmitter,f=t("./parser").Parser,l=t("./compiler").Compiler,h=t("./retranslation").RetranslationManager;t("./platform/globals");var p=t("./platform/io");i.Error=a,i.RuntimeError=s,i.TranslationError=u,a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,s.prototype=Object.create(a.prototype),s.prototype.constructor=s,u.prototype=Object.create(s.prototype),u.prototype.constructor=u,r.Context=i}),r("l20n/events",function(t,e){function r(){this._listeners={}}r.prototype.emit=function(){var t=Array.prototype.slice.call(arguments),e=t.shift();if(!this._listeners[e])return!1;for(var r=this._listeners[e].slice(),n=0;n<r.length;n++)r[n].apply(this,t);return!0},r.prototype.addEventListener=function(t,e){return this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e),this},r.prototype.removeEventListener=function(t,e){var r=this._listeners[t],n=r.indexOf(e);return-1===n?this:(r.splice(n,1),this)},e.EventEmitter=r}),r("l20n/parser",function(t,r){function n(t){function r(){$+=2;var t=$,e=Y.indexOf("*/",t);if(-1===e)throw Z("Comment without closing tag");return $=e+2,{type:"Comment",content:Y.slice(t,e)}}function n(){for(var t,e,r,n=[];;){if(t=s("Attribute"),t.local="_"===t.key.name.charAt(0),n.push(t),e=p(),r=Y.charAt($),">"===r)break;if(!e)throw Z('Expected ">"')}return n}function a(t){var e=v();if(y(),":"!==Y.charAt($))throw Z('Expected ":"');return++$,y(),{type:t,key:e,value:h()}}function s(t){var e=v(),r=[];if("["===Y.charAt($)&&(++$,y(),r=V(C,"]")),y(),":"!==Y.charAt($))throw Z('Expected ":"');return++$,y(),{type:t,key:e,value:h(),index:r}}function u(){++$,y();for(var t,e,r,n=[],o=!1;;){if(t=!1,"*"===Y.charAt($)){if(++$,o)throw Z("Default item redefinition forbidden");t=!0,o=!0}if(e=a("HashItem"),e["default"]=t,n.push(e),y(),r=","===Y.charAt($),r&&(++$,y()),"}"===Y.charAt($)){++$;break}if(!r)throw Z('Expected "}"')}return{type:"Hash",content:n}}function c(){var t,e=Y.charAt(++$);if("u"===e){for(var r="",n=0;4>n;n++){if(e=Y[++$],t=e.charCodeAt(0),!(t>96&&103>t||t>64&&71>t||t>47&&58>t))throw Z("Illegal unicode escape sequence");r+=e}return String.fromCharCode(parseInt(r,16))}return e}function f(t,e){var r,n=null,o="",i=0;$+=e-1;var a=$+1;t:for(;;)switch(r=Y.charAt(++$)){case"\\":o+=c();break;case"{":if("{"===Y.charAt($+1)){if(null===n&&(n=[]),i>Q-1)throw Z("Too many placeables, maximum allowed is "+Q);if(o&&n.push({type:"String",content:o}),$+=2,y(),n.push(C()),y(),"}"!==Y.charAt($)||"}"!==Y.charAt($+1))throw Z('Expected "}}"');$+=1,i++,o="";break}default:if(1===e){if(r===t){$++;break t}}else if(r===t[0]&&Y.charAt($+1)===r&&Y.charAt($+2)===r){$+=3;break t}if(o+=r,$+1>=F)throw Z("Unclosed string literal")}return null===n?{type:"String",content:o}:(o.length&&n.push({type:"String",content:o}),{type:"ComplexString",content:n,source:Y.slice(a,$-e)})}function l(t,e){var r,n,o,i=Y.indexOf(t,$+e);if(-1===i)throw Z("Unclosed string literal");return o=Y.slice($+e,i),r=o.indexOf("{{"),-1!==r?f(t,e):(n=o.indexOf("\\"),-1!==n?f(t,e):($=i+e,{type:"String",content:o}))}function h(t,r){if(r===e&&(r=Y.charAt($)),"'"===r||'"'===r)return r===Y.charAt($+1)&&r===Y.charAt($+2)?l(r+r+r,3):l(r,1);if("{"===r)return u();if(!t)throw Z("Unknown value type");return null}function p(){for(var t=$,e=Y.charCodeAt(t);32===e||10===e||9===e||13===e;)e=Y.charCodeAt(++$);return $!==t}function y(){for(var t=Y.charCodeAt($);32===t||10===t||9===t||13===t;)t=Y.charCodeAt(++$)}function d(){return++$,{type:"VariableExpression",id:v()}}function v(){var t=$,e=t,r=Y,n=r.charCodeAt(e);if((97>n||n>122)&&(65>n||n>90)&&95!==n)throw Z("Identifier has to start with [a-zA-Z_]");for(n=r.charCodeAt(++t);n>=97&&122>=n||n>=65&&90>=n||n>=48&&57>=n||95===n;)n=r.charCodeAt(++t);return $=t,{type:"Identifier",name:r.slice(e,t)}}function g(){if($+=6,"("!==Y.charAt($))throw Z('Expected "("');++$,y();var t=l(Y.charAt($),1);if(y(),")"!==Y.charAt($))throw Z('Expected ")"');return++$,{type:"ImportStatement",uri:t}}function w(t){if("_"===t.name.charAt(0))throw Z('Macro ID cannot start with "_"');++$;var e=V(d,")");if(p(),"{"!==Y.charAt($))throw Z('Expected "{"');++$,y();var r=C();if(y(),"}"!==Y.charAt($))throw Z('Expected "}"');if(++$,y(),62!==Y.charCodeAt($))throw Z('Expected ">"');return++$,{type:"Macro",id:t,args:e,expression:r}}function b(t,e){if(!p())throw Z("Expected white space");var r=Y.charAt($),o=h(!0,r),i=null;if(null===o){if(">"===r)throw Z('Expected ">"');i=n()}else{var a=p();if(">"!==Y.charAt($)){if(!a)throw Z('Expected ">"');i=n()}}return++$,{type:"Entity",id:t,value:o,index:e,attrs:i,local:95===t.name.charCodeAt(0)}}function m(){var t=Y.charCodeAt($);if(60===t){++$;var e=v();return t=Y.charCodeAt($),40===t?w(e):91===t?(++$,b(e,V(C,"]"))):b(e,null)}if(47===Y.charCodeAt($)&&42===Y.charCodeAt($+1))return r();if("import"===Y.slice($,$+6))return g();throw Z("Invalid entry")}function x(){var t=[];for(y();F>$;){try{t.push(m())}catch(e){if(!(e instanceof o))throw e;X.emit("error",e),t.push(J())}F>$&&y()}return{type:"LOL",body:t}}function E(){var t=[];for(y();F>$;)t.push(m()),F>$&&y();return{type:"LOL",body:t}}function A(t){return Y=t,$=0,F=Y.length,K()}function _(t,e){if(!X)throw new Error("Emitter not available");return X.addEventListener(t,e)}function k(t,e){if(!X)throw new Error("Emitter not available");return X.removeEventListener(t,e)}function C(){return T()}function O(t,e,r,n){for(var o,i,a=n();;){if(o="",y(),i=Y.charAt($),-1===t[0].indexOf(i))break;if(o+=i,++$,t.length>1)if(i=Y.charAt($),t[1]===i)++$,o+=i;else if(t[2])return--$,a;y(),a={type:e,operator:{type:r,token:o},left:a,right:n()}}return a}function L(t,e,r,n){var o=Y.charCodeAt($);return-1===t.indexOf(o)?n():(++$,y(),{type:e,operator:{type:r,token:String.fromCharCode(o)},argument:L(t,e,r,n)})}function T(){var t=R();if(y(),63!==Y.charCodeAt($))return t;++$,y();var e=C();if(y(),58!==Y.charCodeAt($))throw Z('Expected ":"');return++$,y(),{type:"ConditionalExpression",test:t,consequent:e,alternate:C()}}function R(){return O([["|"],"|",!0],"LogicalExpression","LogicalOperator",j)}function j(){return O([["&"],"&",!0],"LogicalExpression","Logicalperator",P)}function P(){return O([["=","!"],"=",!0],"BinaryExpression","BinaryOperator",I)}function I(){return O([["<",">"],"=",!1],"BinaryExpression","BinaryOperator",S)}function S(){return O([["+","-"]],"BinaryExpression","BinaryOperator",z)}function z(){return O([["%"]],"BinaryExpression","BinaryOperator",G)}function G(){return O([["*"]],"BinaryExpression","BinaryOperator",B)}function B(){return O([["/"]],"BinaryExpression","BinaryOperator",U)}function U(){return L([43,45,33],"UnaryExpression","UnaryOperator",N)}function M(t){return y(),{type:"CallExpression",callee:t,arguments:V(C,")")}}function D(t,e){if("ParenthesisExpression"!==t.type&&"Identifier"!==t.type&&"ThisExpression"!==t.type)throw Z("AttributeExpression must have Identifier, This or Parenthesis as left node");var r;if(e){if(y(),r=C(),y(),"]"!==Y.charAt($))throw Z('Expected "]"');return++$,{type:"AttributeExpression",expression:t,attribute:r,computed:!0}}return r=v(),{type:"AttributeExpression",expression:t,attribute:r,computed:!1}}function H(t,e){var r;if(e){if(y(),r=C(),y(),"]"!==Y.charAt($))throw Z('Expected "]"');return++$,{type:"PropertyExpression",expression:t,property:r,computed:!0}}return r=v(),{type:"PropertyExpression",expression:t,property:r,computed:!1}}function N(){for(var t,e=W();;)if(t=Y.charCodeAt($),46===t||91===t)++$,e=H(e,91===t);else if(58===t&&58===Y.charCodeAt($+1))$+=2,91===Y.charCodeAt($)?(++$,e=D(e,!0)):e=D(e,!1);else{if(40!==t)break;++$,e=M(e)}return e}function W(){if(40===Y.charCodeAt($)){++$,y();var t={type:"ParenthesisExpression",expression:C()};if(y(),41!==Y.charCodeAt($))throw Z('Expected ")"');return++$,t}return q()}function q(){for(var t=$,e=Y.charCodeAt(t);e>47&&58>e;)e=Y.charCodeAt(++t);if(t>$){var r=$;return $=t,{type:"Number",value:parseInt(Y.slice(r,t),10)}}switch(e){case 39:case 34:case 123:case 91:return h();case 36:return d();case 64:return++$,{type:"GlobalsExpression",id:v()};case 126:return++$,{type:"ThisExpression"};default:return v()}}function V(t,e){var r;if(y(),Y.charAt($)===e)return++$,[];for(var n=[];;){if(n.push(t()),y(),r=Y.charAt($),","!==r){if(r===e){++$;break}throw Z('Expected "," or "'+e+'"')}++$,y()}return n}function Z(t,r){r===e&&(r=$);var n=Y.lastIndexOf("<",r-1),i=Y.lastIndexOf(">",r-1);n=i>n?i+1:n;var a=Y.slice(n,r+10),s=t+" at pos "+r+': "'+a+'"';return new o(s,r,a)}function J(){var t,e=Y.indexOf("<",$);return-1===e?(t={type:"JunkEntry",content:Y.slice($)},$=F,t):(t={type:"JunkEntry",content:Y.slice($,e)},$=e,t)}this.parse=A,this.addEventListener=_,this.removeEventListener=k;var Y,$,F,X,K,Q=100;t?K=E:(X=new i,K=x)}function o(t,e,r){this.name="ParserError",this.message=t,this.pos=e,this.context=r}var i=t("./events").EventEmitter;n.Error=o,o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,r.Parser=n}),r("l20n/compiler",function(t,r){function n(){function t(t,e){e||(e={});for(var r,n=0;r=t.body[n];n++){var o=N[r.type];if(o)try{e[r.id.name]=new o(r,e)}catch(i){c(i)}}return e}function r(t){return D=t,!0}function n(t,e){return M.addEventListener(t,e)}function o(t,e){return M.removeEventListener(t,e)}function l(t,e,r,n){var o=new t(e,r,n);return M.emit("error",o),o}function h(t,e){this.id=t.id.name,this.env=e,this.local=t.local||!1,this.index=null,this.attributes=null,this.publicAttributes=null;var r;if(t.index)for(this.index=[],r=0;r<t.index.length;r++)this.index.push(k(t.index[r],this));if(t.attrs)for(this.attributes={},this.publicAttributes=[],r=0;r<t.attrs.length;r++){var n=t.attrs[r];this.attributes[n.key.name]=new p(n,this),n.local||this.publicAttributes.push(n.key.name)}this.value=t.value&&"String"===t.value.type?t.value.content:v(t.value,this,this.index)}function p(t,e){if(this.key=t.key.name,this.local=t.local||!1,this.index=null,t.index){this.index=[];for(var r=0;r<t.index.length;r++)this.index.push(k(t.index[r],this))}this.value=t.value&&"String"===t.value.type?t.value.content:v(t.value,e,this.index),this.entity=e}function y(t,e){this.id=t.id.name,this.env=e,this.local=t.local||!1,this.expression=v(t.expression,this),this.args=t.args}function d(t,e,r){if(!t)return null;if(!W[t.type])throw l("CompilationError","Unknown expression type"+t.type);return r&&(r=r.slice()),W[t.type](t,e,r)}function v(t,e,r){if(!t)return null;var n;return function(o,i,a){return n||(n=d(t,e,r)),n(o,i,a)}}function g(t,r,n){for(var o=!0;o;){var i=t,s=r,u=n;if(c=e,o=!1,"string"==typeof i||"boolean"==typeof i||"number"==typeof i||!i)return i;if(i.value===e){if("function"!=typeof i){if(i.expression)throw new a("Uncalled macro: "+i.id);throw new a("Cannot resolve ctxdata or global of type "+typeof i)}var c=i(s,u);s=c[0],c=c[1],t=c,r=s,n=u,o=!0}else t=i.value,r=s,n=u,o=!0}}function w(t){var e=t.name;return function(t){if(!t.__env__.hasOwnProperty(e))throw new a("Reference to an unknown entry: "+e);return t={__this__:t.__env__[e],__env__:t.__env__},[t,t.__this__]}}function b(){return function(t){return[t,t.__this__]}}function m(t){var e=t.id.name;return function(t,r){if(t.hasOwnProperty(e))return t[e];if(!r||!r.hasOwnProperty(e))throw new a("Reference to an unknown variable: "+e);return[t,r[e]]}}function x(t){var e=t.id.name;return function(t){if(!D)throw new a("No globals set (tried @"+e+")");if(!D.hasOwnProperty(e))throw new a("Reference to an unknown global: "+e);var r;try{r=D[e].get()}catch(n){throw new a("Cannot evaluate global "+e)}return H.globals[e]=!0,[t,r]}}function E(t){return function(e){return[e,t.value]}}function A(t){return function(r,n,o){if(o!==e)throw new a("Cannot get property of a string: "+o);return[r,t.content]}}function _(t,r){for(var n=[],o=0;o<t.content.length;o++)n.push(d(t.content[o],r));return function(){var o=!1;return function(i,u,f){if(f!==e)throw new a("Cannot get property of a string: "+f);if(o)throw new a("Cyclic reference detected");o=!0;var l=[];try{for(var h=0;h<n.length;h++){var p=g(n[h],i,u);if("string"!=typeof p&&"number"!=typeof p)throw new a("Placeables must be strings or numbers");if(p.length>U)throw new a("Placeable has too many characters, maximum allowed is "+U);l.push(p)}}catch(y){throw c(y),new s(y.message,r,t.source)}finally{o=!1}return[i,l.join("")]}}()}function k(t,e){var r=d(t,e);return function(){var t=!1;return function(n,o){if(t)throw new a("Cyclic reference detected");t=!0;var i;try{i=g(r,n,o)}catch(s){if(s instanceof u)throw s;throw c(s),l(u,s.message,e)}finally{t=!1}return[n,i]}}()}function C(t,r,n){for(var o,i={},a=n?n.shift():e,s=0;s<t.content.length;s++){var c=t.content[s];i[c.key.name]=d(c.value,r,n),c["default"]&&(o=c.key.name)}return function(t,n,s){for(var c=[s,a,o],f=[],h=0;h<c.length;h++){var p=g(c[h],t,n);if(p!==e){if("string"!=typeof p)throw l(u,"Index must be a string",r);if(f.push(p),i.hasOwnProperty(p))return[t,i[p]]}}var y;throw y=f.length?'Hash key lookup failed (tried "'+f.join('", "')+'").':"Hash key lookup failed.",l(u,y,r)}}function O(t,e){if("-"===t)return function(t){if("number"!=typeof t)throw new a("The unary - operator takes a number");return-t};if("+"===t)return function(t){if("number"!=typeof t)throw new a("The unary + operator takes a number");return+t};if("!"===t)return function(t){if("boolean"!=typeof t)throw new a("The ! operator takes a boolean");return!t};throw l(i,"Unknown token: "+t,e)}function L(t,e){if("=="===t)return function(t,e){if(!("number"==typeof t&&"number"==typeof e||"string"==typeof t&&"string"==typeof e))throw new a("The == operator takes two numbers or two strings");return t===e};if("!="===t)return function(t,e){if(!("number"==typeof t&&"number"==typeof e||"string"==typeof t&&"string"==typeof e))throw new a("The != operator takes two numbers or two strings");return t!==e};if("<"===t)return function(t,e){if("number"!=typeof t||"number"!=typeof e)throw new a("The < operator takes two numbers");return e>t};if("<="===t)return function(t,e){if("number"!=typeof t||"number"!=typeof e)throw new a("The <= operator takes two numbers");return e>=t};if(">"===t)return function(t,e){if("number"!=typeof t||"number"!=typeof e)throw new a("The > operator takes two numbers");return t>e};if(">="===t)return function(t,e){if("number"!=typeof t||"number"!=typeof e)throw new a("The >= operator takes two numbers");return t>=e};if("+"===t)return function(t,e){if(!("number"==typeof t&&"number"==typeof e||"string"==typeof t&&"string"==typeof e))throw new a("The + operator takes two numbers or two strings");return t+e};if("-"===t)return function(t,e){if("number"!=typeof t||"number"!=typeof e)throw new a("The - operator takes two numbers");return t-e};if("*"===t)return function(t,e){if("number"!=typeof t||"number"!=typeof e)throw new a("The * operator takes two numbers");return t*e};if("/"===t)return function(t,e){if("number"!=typeof t||"number"!=typeof e)throw new a("The / operator takes two numbers");if(0===e)throw new a("Division by zero not allowed.");return t/e};if("%"===t)return function(t,e){if("number"!=typeof t||"number"!=typeof e)throw new a("The % operator takes two numbers");if(0===e)throw new a("Modulo zero not allowed.");return t%e};throw l(i,"Unknown token: "+t,e)}function T(t,e){if("&&"===t)return function(t,e){if("boolean"!=typeof t||"boolean"!=typeof e)throw new a("The && operator takes two booleans");return t&&e};if("||"===t)return function(t,e){if("boolean"!=typeof t||"boolean"!=typeof e)throw new a("The || operator takes two booleans");return t||e};throw l(i,"Unknown token: "+t,e)}function R(t,e){var r=O(t.operator.token,e),n=d(t.argument,e);return function(t,e){return[t,r(g(n,t,e))]}}function j(t,e){var r=d(t.left,e),n=L(t.operator.token,e),o=d(t.right,e);return function(t,e){return[t,n(g(r,t,e),g(o,t,e))]}}function P(t,e){var r=d(t.left,e),n=T(t.operator.token,e),o=d(t.right,e);return function(t,e){return[t,n(g(r,t,e),g(o,t,e))]}}function I(t,e){var r=d(t.test,e),n=d(t.consequent,e),o=d(t.alternate,e);return function(t,e){var i=g(r,t,e);if("boolean"!=typeof i)throw new a("Conditional expressions must test a boolean");return i===!0?n(t,e):o(t,e)}}function S(t,e){for(var r=d(t.callee,e),n=[],o=0;o<t.arguments.length;o++)n.push(d(t.arguments[o],e));return function(t,e){for(var o=[],i=0;i<n.length;i++)o.push(n[i](t,e));var s=r(t,e);if(t=s[0],s=s[1],!s.expression)throw new a("Expected a macro, got a non-callable.");return s._call(o,e)}}function z(t,r){var n=d(t.expression,r),o=t.computed?d(t.property,r):t.property.name;return function(t,r){var i=g(o,t,r);if("string"!=typeof i)throw new a("Property name must evaluate to a string: "+i);var s=n(t,r);if(t=s[0],s=s[1],s&&s.value!==e){if("function"!=typeof s.value)throw new a("Cannot get property of a "+typeof s.value+": "+i);return s.value(t,r,i)}if("function"==typeof s)return s(t,r,i);if(s&&s.expression)throw new a("Cannot get property of a macro: "+i);if("object"==typeof s){if(null===s)throw new a("Cannot get property of a null: "+i);if(Array.isArray(s))throw new a("Cannot get property of an array: "+i);if(!s.hasOwnProperty(i))throw new a(i+" is not defined on the object.");return[t,s[i]]}throw new a("Cannot get property of a "+typeof s+": "+i)}}function G(t,e){var r=d(t.expression,e),n=t.computed?d(t.attribute,e):t.attribute.name;return function(t,e){var o=g(n,t,e),i=r(t,e);if(t=i[0],i=i[1],!i.attributes)throw new a("Cannot get attribute of a non-entity: "+o);if(!i.attributes.hasOwnProperty(o))throw new a(i.id+" has no attribute "+o);return[t,i.attributes[o]]}}function B(t,e){return d(t.expression,e)}this.compile=t,this.setGlobals=r,this.addEventListener=n,this.removeEventListener=o;var U=2500,M=new f,D=null,H={globals:{}},N={Entity:h,Macro:y};h.prototype.getString=function(t){try{var e={__this__:this,__env__:this.env};return g(this.value,e,t)}catch(r){throw c(r),r instanceof s&&M.emit("error",r),r}},h.prototype.get=function(t){H.globals={};var e={value:this.getString(t),attributes:{}};if(this.publicAttributes){e.attributes={};for(var r,n=0;r=this.publicAttributes[n];n++)e.attributes[r]=this.attributes[r].getString(t)}return e.globals=H.globals,e},p.prototype.getString=function(t){try{var e={__this__:this.entity,__env__:this.entity.env};return g(this.value,e,t)}catch(r){throw c(r),r instanceof s&&M.emit("error",r),r}},y.prototype._call=function(t,e){var r={__this__:this,__env__:this.env};if(this.args.length!==t.length)throw new a(this.id+"() takes exactly "+this.args.length+" argument(s) ("+t.length+" given)");for(var n=0;n<this.args.length;n++)r[this.args[n].id.name]=t[n];var o=this.expression(r,e);return r=o[0],o=o[1],[r,g(o,r,e)]};var W={Identifier:w,ThisExpression:b,VariableExpression:m,GlobalsExpression:x,Number:E,String:A,Hash:C,HashItem:d,ComplexString:_,UnaryExpression:R,BinaryExpression:j,LogicalExpression:P,ConditionalExpression:I,CallExpression:S,PropertyExpression:z,AttributeExpression:G,ParenthesisExpression:B}}function o(t){this.name="CompilerError",this.message=t}function i(t,e){o.call(this,t),this.name="CompilationError",this.entry=e.id}function a(t){o.call(this,t),this.name="RuntimeError"}function s(t,e,r){a.call(this,t),this.name="ValueError",this.entry=e.id,this.source=r}function u(t,e){a.call(this,t),this.name="IndexError",this.entry=e.id}function c(t){if(!(t instanceof o))throw t}var f=t("./events").EventEmitter;n.Error=o,n.CompilationError=i,n.RuntimeError=a,n.ValueError=s,n.IndexError=u,o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,i.prototype=Object.create(o.prototype),i.prototype.constructor=i,a.prototype=Object.create(o.prototype),a.prototype.constructor=a,s.prototype=Object.create(a.prototype),s.prototype.constructor=s,u.prototype=Object.create(a.prototype),u.prototype.constructor=u,r.Compiler=n}),r("l20n/retranslation",function(t,e){function r(){function t(t){var e=new t;this.globals[e.id]=e,e.activate&&(a[e.id]=0,e.addEventListener("change",function(t){for(var r=0;r<i.length;r++)i[r]&&-1!==i[r].globals.indexOf(t)&&i[r].callback({global:e.id})}))}function e(t,e){var r,n;for(r=0;r<s.length;r++)if(s[r].id===t.id){n=!0;break}n?e&&(s[r]=t):s.push(t);var o;for(r=0;r<i.length;r++)if(i[r]&&i[r].id===t.id){o=i[r];break}var u;if(o)if(e)o.callback=t.callback,u=t.globals.filter(function(t){return this.globals[t].activate&&-1===o.globals.indexOf(t)},this),u.forEach(function(t){a[t]++,this.globals[t].activate()},this),o.globals=o.globals.concat(u);else if(0===t.globals.length)delete i[r];else{u=t.globals.filter(function(t){return this.globals[t].activate&&-1===o.globals.indexOf(t)},this),u.forEach(function(t){a[t]++,this.globals[t].activate()},this);var c=o.globals.filter(function(e){return this.globals[e].activate&&-1===t.globals.indexOf(e)},this);c.forEach(function(t){a[t]--,0===a[t]&&this.globals[t].deactivate()},this),o.globals=t.globals}else 0!==t.globals.length&&(i.push(t),t.globals.forEach(function(t){this.globals[t].activate&&(a[t]++,this.globals[t].activate())},this))}function n(t){for(var e,r=-1,n=0;n<i.length;n++)if(i[n]&&i[n].id===t){e=i[n],r=n;break}if(e)for(e.globals.forEach(function(t){this.globals[t].activate&&(a[t]--,0===a[t]&&this.globals[t].deactivate())},this),i.splice(r,1),n=0;n<s.length;n++)if(s[n].id===t){s.splice(n,1);break}}function o(t){for(var e=0;e<s.length;e++)s[e].callback({locales:t})}var i=[],a={},s=[];this.bindGet=e,this.unbindGet=n,this.all=o,this.globals={},r._constructors.forEach(function(e){t.call(this,e)},this)}r._constructors=[],r.registerGlobal=function(t){r._constructors.push(t)},r.deregisterGlobal=function(t){var e=r._constructors.indexOf(t);-1!==e&&r._constructors.splice(e,1)},e.RetranslationManager=r}),r("l20n/platform/globals",function(e,r){function n(){this.id=null,this._emitter=new s,this.value=null,this.isActive=!1}function o(){function e(){return{width:{px:document.body.clientWidth}}}function r(){o.value=e(),o._emitter.emit("change",o.id)}n.call(this),this.id="screen",this._get=e,this.activate=function(){this.isActive||(t.addEventListener("resize",r),this.isActive=!0)},this.deactivate=function(){t.removeEventListener("resize",r),this.value=null,this.isActive=!1};var o=this}function i(){function t(){return/^MacIntel/.test(navigator.platform)?"mac":/^Linux/.test(navigator.platform)?"linux":/^Win/.test(navigator.platform)?"win":"unknown"}n.call(this),this.id="os",this.get=t}function a(){function t(){var t=new Date;return t.getHours()}function e(){var t=new Date;t.getHours()!==r.value&&(r.value=t.getHours(),r._emitter.emit("change",r.id))}n.call(this),this.id="hour",this._get=t,this.activate=function(){if(!this.isActive){var t=new Date;i=setTimeout(function(){e(),i=setInterval(e,o)},o-t.getTime()%o),this.isActive=!0}},this.deactivate=function(){clearInterval(i),this.value=null,this.isActive=!1};var r=this,o=36e5,i=null}var s=e("../events").EventEmitter,u=e("../retranslation").RetranslationManager;n.prototype._get=function(){throw new Error("Not implemented")},n.prototype.get=function(){return this.value&&this.isActive||(this.value=this._get()),this.value},n.prototype.addEventListener=function(t,e){if("change"!==t)throw"Unknown event type";this._emitter.addEventListener(t,e)},o.prototype=Object.create(n.prototype),o.prototype.constructor=o,i.prototype=Object.create(n.prototype),i.prototype.constructor=i,a.prototype=Object.create(n.prototype),a.prototype.constructor=a,u.registerGlobal(o),u.registerGlobal(i),u.registerGlobal(a),r.Global=n}),r("l20n/platform/io",function(t,e){function r(t){this.name="IOError",this.message=t}e.load=function(t,e,n){var o=new XMLHttpRequest;o.overrideMimeType&&o.overrideMimeType("text/plain"),o.onreadystatechange=function(){if(4===o.readyState)if(200===o.status||0===o.status)e(null,o.responseText);else{var n=new r("Not found: "+t);e(n)}},o.open("GET",t,!n),o.send("")},r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,e.Error=r}),r("l20n/intl",function(t,r,n){function o(t){if(!d.test(t))return!1;if(t.startsWith("x-"))return!0;var e=t.indexOf("-x-");return-1!==e&&(t=t.substring(0,e)),!v.test(t)&&!g.test(t)}function i(t){if(t=t.toLowerCase(),h&&h.hasOwnProperty(t))return h[t];for(var e=t.split("-"),r=0;r<e.length;){var n=e[r];if(1===n.length&&(r>0||"x"===n))break;4===n.length?n=n[0].toUpperCase()+n.substring(1):0!==r&&2===n.length&&(n=n.toUpperCase()),p.hasOwnProperty(n)?n=p[n]:y.hasOwnProperty(n)&&(n=y[n].preferred,1===r&&y[n].prefix===e[0]&&(e.shift(),r--)),e[r]=n,r++}for(var o=e.slice(0,r).join("-"),i=[];r<e.length&&"x"!==e[r];){var a=r;for(r++;r<e.length&&e[r].length>1;)r++;var s=sybtags.slice(a,r).join("-");i.push(s)}i.sort();var u="";r<e.length&&(u=e.slice(r).join("-"));var c=o;return i.length>0&&(c+="-"+i.join("-")),u.length>0&&(c.length>0?c+="-"+u:c=u),c}function a(t){if(t===e)return[];var r=[];"string"==typeof t&&(t=[t]);

for(var n=t,a=n.length,s=0;a>s;){var u=s in n;if(u){var c=n[s];"string"!=typeof c&&"object"!=typeof c&&ThrowError(JSMSG_INVALID_LOCALES_ELEMENT);var f=c;o(f)||ThrowError(JSMSG_INVALID_LANGUAGE_TAG,f),f=i(f),-1===r.indexOf(f)&&r.push(f)}s++}return r}function s(t,r){for(var n=r;;){if(-1!==t.indexOf(n))return n;var o=n.lastIndexOf("-");if(-1===o)return e;o>=2&&"-"===n[o-2]&&(o-=2),n=n.substring(0,o)}}function u(t,r){for(var n=r.length,o=[],i=0;n>i;){var a=r[i],u=a.replace(l,""),c=s(t,u);c!==e&&o.push(c),i++}return o.slice(0)}function c(t,e,r){t=a(t),e=a(e);var n=u(t,e);return r?(r=i(r),-1===n.indexOf(r)&&n.push(r),n):n}String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{enumerable:!1,configurable:!1,writable:!1,value:function(t,e){return e=e||0,this.indexOf(t,e)===e}});var f="-u(-[a-z0-9]{2,8})+",l=(new RegExp(f),new RegExp(f,"g")),h={},p={},y={},d=function(){var t="[a-zA-Z]",e="[0-9]",r="(?:"+t+"|"+e+")",n="(?:art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)",o="(?:en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)",i="(?:"+o+"|"+n+")",a="(?:x(?:-[a-z0-9]{1,8})+)",s="(?:"+e+"|[A-WY-Za-wy-z])",u="(?:"+s+"(?:-"+r+"{2,8})+)",c="(?:"+r+"{5,8}|(?:"+e+r+"{3}))",f="(?:"+t+"{2}|"+e+"{3})",l="(?:"+t+"{4})",h="(?:"+t+"{3}(?:-"+t+"{3}){0,2})",p="(?:"+t+"{2,3}(?:-"+h+")?|"+t+"{4}|"+t+"{5,8})",y=p+"(?:-"+l+")?(?:-"+f+")?(?:-"+c+")*(?:-"+u+")*(?:-"+a+")?",d="^(?:"+y+"|"+a+"|"+i+")$";return new RegExp(d,"i")}(),v=function(){var t="[a-zA-Z]",e="[0-9]",r="(?:"+t+"|"+e+")",n="(?:"+r+"{5,8}|(?:"+e+r+"{3}))",o="(?:"+r+"{2,8}-)+("+n+")-(?:"+r+"{2,8}-)*\\1(?!"+r+")";return new RegExp(o)}(),g=function(){var t="[a-zA-Z]",e="[0-9]",r="(?:"+t+"|"+e+")",n="(?:"+e+"|[A-WY-Za-wy-z])",o="-("+n+")-(?:"+r+"+-)*\\1(?!"+r+")";return new RegExp(o)}();r.Intl={prioritizeLocales:c}}),t.L20n=s("l20n")}(window);var n=L20n.getContext(),o={ready:!1,entities:{},registerEntity:function(t){if(o.hasOwnProperty(t)){if(!o.ready)return;return void ReactBootstrap.Dispatcher.emit("ctx:"+t)}n.localize([t],function(e){ReactBootstrap.Dispatcher.emit("ctx:"+t)}),o[t]=1}},i=function(t,e,r){r=r||"",n.ready(function(){o.ready=!0;for(var t in o.entities)o.registerEntity(o.entities[t]);ReactBootstrap.Dispatcher.emit("ctx:ready")}),n.linkResource(function(e){return r+"/locales/"+t+"/"+e+"/strings.l20n"}),n.registerLocales(e["default"],e.locales),n.requestLocales(e["default"])};e.Entity=React.createClass({displayName:"Entity",propTypes:{data:React.PropTypes.object,entity:React.PropTypes.string,dangerouslySetInnerHTML:React.PropTypes.bool},getDefaultProps:function(){return{componentClass:"span",componentAttribute:""}},getInitialState:function(){return{entity:""}},handler:function(){this.setState({entity:n.getSync(this.props.entity,this.props.data)})},componentDidMount:function(){ReactBootstrap.Dispatcher.on("ctx:"+this.props.entity,this.handler),o.registerEntity(this.props.entity)},componentWillUnmount:function(){ReactBootstrap.Dispatcher.off("ctx:"+this.props.entity,this.handler)},render:function(){var t=this.props.componentClass,e=this.props.componentAttribute,n=r({},this.props,{data:null,entity:null});return t.length&&e.length?(n[e]=this.state.entity,React.createElement(t,n)):"input"===t?React.createElement(t,r({},n,{value:this.state.entity})):this.props.dangerouslySetInnerHTML?React.createElement(t,r({},n,{dangerouslySetInnerHTML:{__html:this.state.entity}})):React.createElement(t,n,this.state.entity)}}),t.exports={ctx:n,initializeLocales:function(t,e,r){i(t,e,r)},ready:function(){return o.ready?void ReactBootstrap.Dispatcher.emit("ctx:ready"):void 0},changeLocale:function(t){n.requestLocales(t)},Entity:e.Entity}}).call(e,function(){return this}())}]);